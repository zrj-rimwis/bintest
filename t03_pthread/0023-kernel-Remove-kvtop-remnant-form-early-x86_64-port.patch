From 1d000e2f2097a28f9d20d17ed9852993ea79e39e Mon Sep 17 00:00:00 2001
From: zrj <rimvydas.jasinskas@gmail.com>
Date: Mon, 19 Aug 2019 17:46:54 +0300
Subject: [PATCH 23/66] kernel: Remove kvtop() remnant form early x86_64 port.

---
 sys/platform/pc64/x86_64/vm_machdep.c | 14 --------------
 sys/sys/systm.h                       |  2 --
 2 files changed, 16 deletions(-)

diff --git a/sys/platform/pc64/x86_64/vm_machdep.c b/sys/platform/pc64/x86_64/vm_machdep.c
index 3be09c7f83..3a445cba9d 100644
--- a/sys/platform/pc64/x86_64/vm_machdep.c
+++ b/sys/platform/pc64/x86_64/vm_machdep.c
@@ -384,20 +384,6 @@ cpu_reset_real(void)
 	while(1);
 }
 
-/*
- * Convert kernel VA to physical address
- */
-vm_paddr_t
-kvtop(void *addr)
-{
-	vm_paddr_t pa;
-
-	pa = pmap_kextract((vm_offset_t)addr);
-	if (pa == 0)
-		panic("kvtop: zero page frame");
-	return (pa);
-}
-
 static void
 swi_vm(void *arg, void *frame)
 {
diff --git a/sys/sys/systm.h b/sys/sys/systm.h
index d07854a198..36667dcf7d 100644
--- a/sys/sys/systm.h
+++ b/sys/sys/systm.h
@@ -160,8 +160,6 @@ void	set_user_TLS(void);
 void	set_vkernel_fp(struct trapframe *);
 int	kvm_access_check(vm_offset_t, vm_offset_t, int);
 
-vm_paddr_t kvtop(void *addr);
-
 /*
  * Old CRC32 API
  */
-- 
2.22.0


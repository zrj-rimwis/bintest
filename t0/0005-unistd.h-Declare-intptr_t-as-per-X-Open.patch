From b2add74f3b2be17f79d77d24dd6469862a020453 Mon Sep 17 00:00:00 2001
From: zrj <rimvydas.jasinskas@gmail.com>
Date: Tue, 10 Sep 2019 10:58:54 +0000
Subject: [PATCH 5/5] <unistd.h>: Declare intptr_t as per X/Open.

 No functional change yet, for future reference.
---
 include/stdint.h | 3 +++
 include/unistd.h | 7 +++++++
 2 files changed, 10 insertions(+)

diff --git a/include/stdint.h b/include/stdint.h
index 503ff690b1..cba8459b53 100644
--- a/include/stdint.h
+++ b/include/stdint.h
@@ -41,7 +41,10 @@ typedef __uint16_t	uint16_t;
 typedef __uint32_t	uint32_t;
 typedef __uint64_t	uint64_t;
 
+#ifndef _INTPTR_T_DECLARED
+#define _INTPTR_T_DECLARED
 typedef __intptr_t	intptr_t;
+#endif
 typedef __uintptr_t	uintptr_t;
 
 typedef __intmax_t	intmax_t;
diff --git a/include/unistd.h b/include/unistd.h
index 6c6482bf6a..bca4f3199a 100644
--- a/include/unistd.h
+++ b/include/unistd.h
@@ -38,6 +38,13 @@
 #include <sys/unistd.h>
 #include <sys/_null.h>
 
+#if __XSI_VISIBLE
+#ifndef _INTPTR_T_DECLARED
+typedef	__intptr_t	intptr_t;
+#define	_INTPTR_T_DECLARED
+#endif
+#endif /* __XSI_VISIBLE */
+
 #ifndef _GID_T_DECLARED
 typedef	__uint32_t	gid_t;		/* XXX __gid_t */
 #define	_GID_T_DECLARED
-- 
2.23.0

